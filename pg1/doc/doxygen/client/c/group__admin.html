<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Administrative Functions</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3-rc3 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>Administrative Functions<br>
<small>
[<a class="el" href="group__pgapi.html">Core PicoGUI API</a>]</small>
</h1><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="group__admin.html#a0">pgInit</a> (int argc, char **argv)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Initialize PicoGUI.</em> <a href="#a0"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="group__admin.html#a1">pgSetErrorHandler</a> (void(*handler)(u16 errortype, const char *msg))</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Replace the default error handler.</em> <a href="#a1"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>pghandle&nbsp;</td><td valign=bottom><a class="el" href="group__admin.html#a2">pgLoadDriver</a> (const char *name)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Load an input driver by name and return a handle.</em> <a href="#a2"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>const char *&nbsp;</td><td valign=bottom><a class="el" href="group__admin.html#a3">pgErrortypeString</a> (u16 errortype)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Convert a numerical errortype to a string.</em> <a href="#a3"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="group__constdata.html#a2">pgidlehandler</a>&nbsp;</td><td valign=bottom><a class="el" href="group__admin.html#a4">pgSetIdle</a> (s32 t, <a class="el" href="group__constdata.html#a2">pgidlehandler</a> handler)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Set a handler to be called periodically.</em> <a href="#a4"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="group__admin.html#a5">pgFlushRequests</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Flush all unsent request packets to the server.</em> <a href="#a5"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="group__admin.html#a6">pgUpdate</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Update the screen.</em> <a href="#a6"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="group__admin.html#a7">pgSubUpdate</a> (pghandle widget)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Update a subsection of the screen.</em> <a href="#a7"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="group__admin.html#a8">pgBind</a> (pghandle widgetkey, s16 eventkey, <a class="el" href="group__constdata.html#a1">pgevthandler</a> handler, void *extra)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Attatch an event handler to a widget and/or event.</em> <a href="#a8"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="group__admin.html#a9">pgRegisterOwner</a> (int resource)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Register exclusive access to a resouce.</em> <a href="#a9"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="group__admin.html#a10">pgUnregisterOwner</a> (int resource)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Unregister exclusive access to a resouce.</em> <a href="#a10"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="group__admin.html#a11">pgSetVideoMode</a> (u16 xres, u16 yres, u16 bpp, u16 flagmode, u32 flags)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Change video mode at runtime.</em> <a href="#a11"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>pgmodeinfo *&nbsp;</td><td valign=bottom><a class="el" href="group__admin.html#a12">pgGetVideoMode</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Get information about the current video mode.</em> <a href="#a12"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="group__admin.html#a13">pgDriverMessage</a> (u32 message, u32 param)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Send a message to the drivers.</em> <a href="#a13"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="group__admin.html#a14">pgAppMessage</a> (pghandle dest, struct <a class="el" href="structpgmemdata.html">pgmemdata</a> data)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Send a message to a widget owned by any application.</em> <a href="#a14"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void *&nbsp;</td><td valign=bottom><a class="el" href="group__admin.html#a15">pgSyncAppMessage</a> (pghandle dest, struct <a class="el" href="structpgmemdata.html">pgmemdata</a> data)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Send a message to a widget owned by any application, and wait for an answer.</em> <a href="#a15"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>pghandle&nbsp;</td><td valign=bottom><a class="el" href="group__admin.html#a16">pgEvalRequest</a> (s16 reqtype, void *data, u32 datasize)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Evaluate a PicoGUI request packet.</em> <a href="#a16"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="group__admin.html#a17">pgSetInactivity</a> (u32 time)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Set the inactivity timer.</em> <a href="#a17"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>u32&nbsp;</td><td valign=bottom><a class="el" href="group__admin.html#a18">pgGetInactivity</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Get the inactivity timer.</em> <a href="#a18"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>pghandle&nbsp;</td><td valign=bottom><a class="el" href="group__admin.html#a19">pgGetServerRes</a> (u32 id)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Get a server resource.</em> <a href="#a19"></a><em></em></font><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Functions that affect the entire server, or the connection between client and server. Includes pgInit, error handling, and exclusive access <hr><h2>Function Documentation</h2>
<a name="a14" doxytag="client_c.h::pgAppMessage"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void pgAppMessage </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">pghandle&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>dest</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>struct <a class="el" href="structpgmemdata.html">pgmemdata</a>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>data</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Send a message to a widget owned by any application.
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>dest</em>&nbsp;</td><td>Handle of the destination widget </td></tr>
    <tr><td valign=top><em>data</em>&nbsp;</td><td>A pgmemdata structure containing the data, as returned by a pgFrom* function</td></tr>
  </table>
</dl>
The <code>data</code> parameter is sent as the <code>data</code> in a PG_WE_APPMSG event on behalf of the <code>dest</code> widget.     </td>
  </tr>
</table>
<a name="a8" doxytag="client_c.h::pgBind"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void pgBind </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">pghandle&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>widgetkey</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>s16&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>eventkey</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="group__constdata.html#a1">pgevthandler</a>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>handler</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>extra</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Attatch an event handler to a widget and/or event.
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>widgetkey</em>&nbsp;</td><td>A widget to attach to, or PGBIND_ANY to respond to any widget's events </td></tr>
    <tr><td valign=top><em>eventkey</em>&nbsp;</td><td>An event to attach to, or PGBIND_ANY to respond to any event by the selected widget(s). </td></tr>
    <tr><td valign=top><em>handler</em>&nbsp;</td><td>A pointer to a PicoGUI event handler </td></tr>
    <tr><td valign=top><em>extra</em>&nbsp;</td><td>The value to pass within the pgEvent's <code>extra</code> field</td></tr>
  </table>
</dl>
When the widgetkey and eventkey both match, the handler is called, and the specified value for extra is passed in its <a class="el" href="structpg_event.html">pgEvent</a> structure. The extra value passed depends on the binding that triggered the call, not on the widget or event involved. If widgetkey and eventkey are exactly the same as an existing binding, its handler and extra value are reset to the ones specified here. If handler is NULL the binding is deleted.<p>
<dl compact><dt><b>See also:</b></dt><dd>pgevthandler, <a class="el" href="structpg_event.html">pgEvent</a> </dd></dl>
    </td>
  </tr>
</table>
<a name="a13" doxytag="client_c.h::pgDriverMessage"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void pgDriverMessage </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">u32&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>message</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>u32&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>param</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Send a message to the drivers.
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>message</em>&nbsp;</td><td>A PGDM_* driver message constant </td></tr>
    <tr><td valign=top><em>param</em>&nbsp;</td><td>Defined by the type of message sent</td></tr>
  </table>
</dl>
This command can send 'extra' commands that may be hardware-specific, like beeps, cursor blanking, and backlight control.     </td>
  </tr>
</table>
<a name="a3" doxytag="client_c.h::pgErrortypeString"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char* pgErrortypeString </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">u16&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>errortype</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Convert a numerical errortype to a string.
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>errortype</em>&nbsp;</td><td>A PG_ERRT_* error type constant</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>A pointer to the corresponding string constant </dd></dl>
    </td>
  </tr>
</table>
<a name="a16" doxytag="client_c.h::pgEvalRequest"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> pghandle pgEvalRequest </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">s16&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>reqtype</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>data</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>u32&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>datasize</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Evaluate a PicoGUI request packet.
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>reqtype</em>&nbsp;</td><td>A PGREQ_* constant indicating the packet type </td></tr>
    <tr><td valign=top><em>data</em>&nbsp;</td><td>Pointer to the raw packet data </td></tr>
    <tr><td valign=top><em>datasize</em>&nbsp;</td><td>Length of raw packet data</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Returns the request packet's return value, if any. If the request packet does not return a simple data type, the value is undefined.</dd></dl>
This is a good way to reuse PicoGUI's serialization capabilities to load a generic binary object from file. It is advisable to validate the request's type first so you don't allow the input to do wierd things like change video mode or leave the current context.<p>
The format of the data accepted by the request packet depends on the type of packet.     </td>
  </tr>
</table>
<a name="a5" doxytag="client_c.h::pgFlushRequests"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void pgFlushRequests </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Flush all unsent request packets to the server.
<p>
Usually this is handled automatically, but it is needed in some situations. For example, a remote input driver that has no real event loop, but needs to send keyboard or mouse events. The events would not actually be sent to the server until pgFlushRequests is called.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__admin.html#a6">pgUpdate</a> </dd></dl>
    </td>
  </tr>
</table>
<a name="a18" doxytag="client_c.h::pgGetInactivity"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> u32 pgGetInactivity </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the inactivity timer.
<p>
<dl compact><dt><b>Returns:</b></dt><dd>The inactivity timer value in milliseconds</dd></dl>
This timer is maintained by PicoGUI. It continually increments, but it is cleared whenever user input is recieved and it can be set by pgSetInactivity<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__admin.html#a17">pgSetInactivity</a> </dd></dl>
    </td>
  </tr>
</table>
<a name="a19" doxytag="client_c.h::pgGetServerRes"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> pghandle pgGetServerRes </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">u32&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>id</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get a server resource.
<p>
<dl compact><dt><b>Returns:</b></dt><dd>The resource handle associated with the given PGRES_* constant </dd></dl>
    </td>
  </tr>
</table>
<a name="a12" doxytag="client_c.h::pgGetVideoMode"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> struct pgmodeinfo* pgGetVideoMode </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get information about the current video mode.
<p>
<dl compact><dt><b>Returns:</b></dt><dd>A pgmodeinfo structure with information about the current video mode.</dd></dl>
The returned pointer is good only until the next PicoGUI call. It is recommended to use something like the following:<p>
<div class="fragment"><pre>
<span class="keyword">struct </span>pgmodeinfo mi;
mi = *<a class="code" href="group__admin.html#a52">pgGetVideoMode</a>();
 
</pre></div><p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__admin.html#a11">pgSetVideoMode</a>, pgmodeinfo </dd></dl>
    </td>
  </tr>
</table>
<a name="a0" doxytag="client_c.h::pgInit"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void pgInit </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>argc</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>char **&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>argv</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initialize PicoGUI.
<p>
See if there are any command line args relevant to PicoGUI (such as for setting the PicoGUI server) and establish a connection to the server. This must be the first PicoGUI call in the client, and it should almost certainly be called before and command line processing.<p>
pgInit processes command line arguments beginning with "--pg" and removes them from the argument list and terminates argv[] with a NULL. This is compatible with optarg and probably other argument-processing systems. Currently the following arguments are handled:<p>
<ul>
<li>--pgserver <br>
 Connects to the PicoGUI server specified in </li><li>--version <br>
 Prints the client library version</li></ul>
<p>
Unrecognized commands beginning with "--pg" display a list of available commands. If it is unable to contact the server, a client error is triggered.<p>
The client does not need to explicitly disconnect from the PicoGUI server<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__pgobjects.html#a4">pgRegisterApp</a>, <a class="el" href="group__admin.html#a1">pgSetErrorHandler</a> </dd></dl>
    </td>
  </tr>
</table>
<a name="a2" doxytag="client_c.h::pgLoadDriver"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> pghandle pgLoadDriver </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>name</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Load an input driver by name and return a handle.
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>name</em>&nbsp;</td><td>Driver name as reported by 'pgserver -l'</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>A handle to the loaded driver </dd></dl>
    </td>
  </tr>
</table>
<a name="a9" doxytag="client_c.h::pgRegisterOwner"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void pgRegisterOwner </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>resource</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Register exclusive access to a resouce.
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>resource</em>&nbsp;</td><td>A PG_OWN_* constant indicating the resource you request</td></tr>
  </table>
</dl>
If the resource is already in use or cannot be obtained, a client error is triggered<p>
<dl compact><dt><b>See also:</b></dt><dd>PG_OWN_KEYBOARD, PG_OWN_POINTER, PG_OWN_SYSEVENTS </dd></dl>
    </td>
  </tr>
</table>
<a name="a1" doxytag="client_c.h::pgSetErrorHandler"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void pgSetErrorHandler </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void(*&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>handler</em>)(u16 errortype, const char *msg)          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Replace the default error handler.
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>handler</em>&nbsp;</td><td>A pointer to the new handler function </td></tr>
    <tr><td valign=top><em>errortype</em>&nbsp;</td><td>The general type of error, a PG_ERRT_* constant </td></tr>
    <tr><td valign=top><em>msg</em>&nbsp;</td><td>A message string with more information</td></tr>
  </table>
</dl>
Errors can be triggered by the client (in the case of an IO error or fatal signal) or by the server. (A bug somewhere, out of memory, etc.)<p>
The default error handler displays a message dialog allowing the user to optionally terminate the program. If it is unable to display the message dialog, the error is printed to stderr and the program is terminated.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__admin.html#a0">pgInit</a>, <a class="el" href="group__admin.html#a3">pgErrortypeString</a> </dd></dl>
    </td>
  </tr>
</table>
<a name="a4" doxytag="client_c.h::pgSetIdle"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="group__constdata.html#a2">pgidlehandler</a> pgSetIdle </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">s32&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>t</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="group__constdata.html#a2">pgidlehandler</a>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>handler</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set a handler to be called periodically.
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>t</em>&nbsp;</td><td>Maximum number of milliseconds to wait between calls to handler </td></tr>
    <tr><td valign=top><em>handler</em>&nbsp;</td><td>Pointer to a handler function, or NULL to disable</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Pointer to the previous handler function</dd></dl>
This is based on the pgSetnonblocking code added by Philippe, but this fits the event-driven model better, and most importantly it handles stopping and starting the event loop automatically. Note that it is still possible for PicoGUI to block if the server sends a partial reply packet, but even if the idle handler were called during this time the network connection would be 'jammed' so there wouldn't be much point.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__progflow.html#a0">pgEventLoop</a> </dd></dl>
    </td>
  </tr>
</table>
<a name="a17" doxytag="client_c.h::pgSetInactivity"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void pgSetInactivity </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">u32&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>time</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the inactivity timer.
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>Inactivity</em>&nbsp;</td><td>timer value in milliseconds</td></tr>
  </table>
</dl>
This sets the inactivity timer. Set it to zero periodically if you want to prevent screensavers or sleep modes from activating even if there is no user input.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__admin.html#a18">pgGetInactivity</a> </dd></dl>
    </td>
  </tr>
</table>
<a name="a11" doxytag="client_c.h::pgSetVideoMode"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void pgSetVideoMode </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">u16&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>xres</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>u16&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>yres</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>u16&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>bpp</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>u16&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>flagmode</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>u32&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>flags</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Change video mode at runtime.
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>xres</em>&nbsp;</td><td>New horizontal resolution </td></tr>
    <tr><td valign=top><em>yres</em>&nbsp;</td><td>New vertical resolution </td></tr>
    <tr><td valign=top><em>bpp</em>&nbsp;</td><td>Color depth in bits per pixel </td></tr>
    <tr><td valign=top><em>flagmode</em>&nbsp;</td><td>PG_FM_* constant specifying how to combine <code>flags</code> with the current video flags</td></tr>
  </table>
</dl>
<code>xres,</code> <code>yres,</code> and <code>bpp</code> can be zero to keep the current values.<p>
<code>flagmode</code> can have the following values:<ul>
<li>PG_FM_SET: Set all video flags to the specified value</li><li>PG_FM_ON: Turns on specified flags, leaves others untouched</li><li>PG_FM_OFF: Turns off specified flags</li><li>PG_FM_TOGGLE: Toggles specified flags</li></ul>
<p>
<code>flags</code> specifies extra optional features that may be present in the video driver. Unsupported flags are ignored. It can be zero or more of the following values or'ed together:<ul>
<li>PG_VID_FULLSCREEN: Uses a fullscreen mode if available</li><li>PG_VID_DOUBLEBUFFER: Uses double buffering if available</li><li>PG_VID_ROTATE90, PG_VID_ROTATE180, PG_VID_ROTATE270: Rotate the screen by the indicated number of degrees anticlockwise. All rotation flags are mutually exclusive.</li></ul>
<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__admin.html#a12">pgGetVideoMode</a> </dd></dl>
    </td>
  </tr>
</table>
<a name="a7" doxytag="client_c.h::pgSubUpdate"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void pgSubUpdate </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">pghandle&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>widget</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Update a subsection of the screen.
<p>
The given widget and all other widgets contained within it are redrawn if necessary. The request buffer is flushed and the section is redrawn independantly and immediately.<p>
This function is recommended for animation. Areas of the screen other than the specified widget and its children are never updated, and SubUpdates can occur in toolbars even while a popup dialog is onscreen.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__admin.html#a6">pgUpdate</a>, <a class="el" href="group__admin.html#a5">pgFlushRequests</a> </dd></dl>
    </td>
  </tr>
</table>
<a name="a15" doxytag="client_c.h::pgSyncAppMessage"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void* pgSyncAppMessage </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">pghandle&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>dest</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>struct <a class="el" href="structpgmemdata.html">pgmemdata</a>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>data</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Send a message to a widget owned by any application, and wait for an answer.
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>dest</em>&nbsp;</td><td>Handle of the destination widget </td></tr>
    <tr><td valign=top><em>data</em>&nbsp;</td><td>A pgmemdata structure containing the data, as returned by a pgFrom* function</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Returns a pointer to the answer message. This will have to be freed by the calling application.</dd></dl>
The <code>data</code> parameter is sent as the <code>data</code> in a PG_WE_APPMSG event on behalf of the <code>dest</code> widget.<p>
This call acts very similarly to <code>pgAppMessage,</code> except that the calling client is blocked until the remote widget has sent an answer message. The answer is application specific.<p>
NOTE: The data is assumed to be a structure whose very first field is of type <code>pghandle.</code> This field will be used by pgSyncAppMessage to store the widget handle to which the receiver will send the answer.     </td>
  </tr>
</table>
<a name="a10" doxytag="client_c.h::pgUnregisterOwner"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void pgUnregisterOwner </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>resource</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Unregister exclusive access to a resouce.
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>resource</em>&nbsp;</td><td>A PG_OWN_* constant indicating the resource you release</td></tr>
  </table>
</dl>
An error will be triggered if the client does not already own the specified resource.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__admin.html#a9">pgRegisterOwner</a> </dd></dl>
    </td>
  </tr>
</table>
<a name="a6" doxytag="client_c.h::pgUpdate"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void pgUpdate </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Update the screen.
<p>
Redraw portions of the screen if necessary. This forces all unsent packets to be flushed to the server, and instructs the server to draw changed areas of the screen.<p>
If your application is pgEventLoop (or pgGetEvent) based, this is handled automatically. The server always updates the screen before waiting for user interaction.<p>
For doing animation, consider using pgSubUpdate instead.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__admin.html#a5">pgFlushRequests</a>, <a class="el" href="group__admin.html#a7">pgSubUpdate</a> </dd></dl>
    </td>
  </tr>
</table>
<hr><address style="align: right;"><small>Generated on Fri May 23 03:39:45 2003 for PicoGUI by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.3-rc3 </small></address>
</body>
</html>

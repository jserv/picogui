#
# Currently just a scratchpad for testing whatever happens to need it
#

import PGBuild.Node.XML
env = Environment()

# Create an SCons node wrapper for the XML document's DOM
testFile = env.fs.Entry("test.xml")
doc = PGBuild.Node.XML.Document(testFile)

# Look up a tag using DOM notation
tag = doc.childNodes[0].getElementsByTagName("important")[0]
print tag.toprettyxml()

# Look up a tag using XPath
print doc.xpath('boing/important')

# Build a 'hello world'
prog = env.Program('hello', 'hello.c')
Default(prog)

# Add a dependency, so the hello world should be rebuilt
# when we change the <important/> part of the XML document,
# but not when we change other parts.
env.Depends(prog, tag)


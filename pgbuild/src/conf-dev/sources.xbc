<?xml version="1.0" ?>
<!--
  XML Build Configuration file
  Defines the sites and packages for the PicoGUI repository.

  This is a PGBuild config file: XML, with an additional twist-
  any tags with the same parent, name, and attributes are merged
  into one tag, with child nodes of both concatenated and
  recursively merged. This makes PGBuild's concept of configuration
  'mount points' useful.
-->

<!--
  Just for fun, let's provide a client-side style sheet for this,
  to show one of the neat things XML does for you. If you load this
  XML file in a browser with XSL support, you should see a spiffy
  web page listing all the sites and packages.
  This has the side effect of making sure our code can handle XML
  processing instructions.
-->
<?xml-stylesheet type="text/xsl"
  href="http://navi.picogui.org/svn/picogui/trunk/tools/xslt/pgbuild.xsl"?>

<!--
  The PGBuild tag marks data that should be mounted into
  PGBuild's config database. It should be the root of all
  XML documents used for PGBuild configuration.

  This tag has several optional attributes:

    title   - A descriptive title for this configuration tree
    root    - The location that this tag should be merged into
              the main configuration tree at, specified as an
              XPath relative to the <pgbuild> node. Default
              is to mount at the <pgbuild> node.
    mode    - Mount mode for this file, patterned after fopen() modes.
              If the mode contains the letter "r", it is merged into
	      the in-memory configuration tree. If the mode contains "w",
	      this subtree at this document's root will be written back
	      to the same file. The default mode is "r".
    author  - Author or maintainer of the configuration
    version - Configuration version
-->
<pgbuild title="PicoGUI sources list">

  <!-- 
    pgbuild uses the concept of 'sites' to keep all the URIs in
    one place, and to make mirroring as easy as possible.
  -->
  <sites>

    <!-- Subversion repository, hosted on navi -->
    <site name="picogui-svn">
      <a href="http://navi.picogui.org/svn/picogui" />
    </site>

    <!-- Sourceforge download mirrors -->
    <site name="sourceforge-download">
      <!-- 
         Multiple URIs can be used to specify mirror sites 
         Note that some of sourceforge's mirrors don't have a copy of picogui.
         Those mirrors have been commented out here to avoid warnings every time
         PGBuild searches for a mirror.
      -->
      <a href="http://umn.dl.sourceforge.net/sourceforge" />
      <a href="http://twtelecom.dl.sourceforge.net/sourceforge" />
      <!-- <a href="http://cesnet.dl.sourceforge.net/sourceforge" /> -->
      <a href="http://heanet.dl.sourceforge.net/sourceforge" />
      <!-- <a href="http://flow.dl.sourceforge.net/sourceforge" /> -->
      <a href="http://easynews.dl.sourceforge.net/sourceforge" />
      <a href="http://aleron.dl.sourceforge.net/sourceforge" />
      <!-- <a href="http://switch.dl.sourceforge.net/sourceforge" /> -->
      <a href="http://unc.dl.sourceforge.net/sourceforge" />
    </site>

    <!-- Releases, hosted by sourceforge -->
    <site name="picogui-releases">
      <!--
        A site tag can be specified inside an <a> tag to make that
	URI relative to the specified site.
      -->
      <a href="pgui"><site name="sourceforge-download" /></a>
    </site>

  </sites>

  <!--==================================================== Packages -->

  <packages>
    <!--
      Packages are groups of files that are conditionally downloaded,
      then independently updated. Packages can be comprised of any
      number of versions- this lets you provide packages of the latest
      development code in addition to all releases. Each version always
      has a single download location, relative to a site. Mirrors are
      described using the site definitions above.
         
      Package names can not contain dashes, since a dash separates
      package name and version in pgbuild's working copy.

      The optional <description> tag can be used in frontends to provide
      help for a package. The <require> tag forces the package to be loaded-
      it should only be used for packages necessary to bootstrap the build
      system itself.
    -->
    
    <package name="build">
      <description>
        <summary>The source code for PGBuild itself.</summary>
        <detail>
          This is included in the initial download of PGBuild for obvious reasons, but it is
          also a package. This makes it easy to keep PGBuild up to date without any special
          cases.
        </detail>
      </description>
      <require/>
      <version name="dev">
         <a href="trunk/pgbuild/src/build-dev" ><site name="picogui-svn" /></a>
      </version>
    </package>

    <package name="conf">
      <description>
        <summary>The default configuration files for PGBuild.</summary>
        <detail>
          These are in a separate package to make updates faster, and
          to make it easier to use PGBuild in other projects.
        </detail>
      </description>
      <require/>
      <version name="dev">
         <a href="trunk/pgbuild/src/conf-dev" ><site name="picogui-svn" /></a>
      </version>
    </package>

    <package name="picogui">
      <description>
        <summary>PicoGUI legacy packages.</summary>
        <detail>
          This package is for older versions of PicoGUI, before PGBuild support was added.
          These are currently here mainly to test PGBuild's support for software packages
          in .tar.gz format with autoconf/automake build systems.
        </detail>
      </description>
      <version name="0.42">
        <a href="picogui-0.42.tar.gz"><site name="picogui-releases"/></a>
      </version>
      <version name="0.43">
        <a href="picogui-0.43.tar.gz"><site name="picogui-releases"/></a>
      </version>
      <version name="0.44">
        <a href="picogui-0.44.tar.gz"><site name="picogui-releases"/></a>
      </version>
      <version name="0.45">
        <a href="picogui-0.45.tar.gz"><site name="picogui-releases"/></a>
      </version>
    </package>
  </packages>
</pgbuild>
